#!/usr/bin/env python3
"""
å®è·µæœºä¼šæŠ“å–è„šæœ¬ - æœ€æ–°ç‰ˆæœ¬
ä¸“é—¨æ”¶é›†å ªåŸ¹æ‹‰ACTåœ°åŒºç¯å¢ƒç›¸å…³çš„å¿—æ„¿è€…å’Œå°±ä¸šæœºä¼š
"""

import json
import datetime
import random
import os

class OpportunitiesScraper:
    def __init__(self):
        self.opportunities_data = []

    def collect_volunteer_opportunities(self):
        """æ”¶é›†é«˜è´¨é‡çš„å¿—æ„¿è€…æœºä¼š"""

        volunteer_opportunities = [
            {
                'title': 'Jerrabomberraæ¹¿åœ°ç”Ÿæ€ç›‘æµ‹å¿—æ„¿è€…',
                'description': 'å‚ä¸çç¨€æ°´é¸Ÿç›‘æµ‹ã€æ –æ¯åœ°æ¢å¤å’Œç¯å¢ƒæ•™è‚²é¡¹ç›®ã€‚åŒ…æ‹¬Latham\'s Snipeå­£èŠ‚æ€§ç›‘æµ‹ã€æ¹¿åœ°æ¤è¢«æ¢å¤ã€å…¥ä¾µç‰©ç§æ§åˆ¶ç­‰å®è·µå·¥ä½œã€‚æä¾›ä¸“ä¸šç”Ÿæ€å­¦åŸ¹è®­å’Œé‡å¤–å®‰å…¨æŒ‡å¯¼ï¼Œæ˜¯è·å¾—æ¾³æ´²æœ¬åœŸç”Ÿæ€ä¿æŠ¤ç»éªŒçš„ç»ä½³æœºä¼šã€‚',
                'organization': 'Jerrabomberra Wetlands Discovery Centre',
                'location': 'å ªåŸ¹æ‹‰ACT - Jerrabomberraæ¹¿åœ°å›½å®¶ä¿æŠ¤åŒº',
                'type': 'å¿—æ„¿è€…',
                'commitment': 'æ¯æœˆ2-4æ¬¡ï¼Œæ¯æ¬¡3-4å°æ—¶ï¼Œä¸»è¦åœ¨å‘¨æœ«ä¸Šåˆ',
                'skills': 'é‡ç”ŸåŠ¨ç‰©è¯†åˆ«ã€ç”Ÿæ€ç›‘æµ‹ã€GPSæ•°æ®æ”¶é›†ã€åŸºç¡€æ‘„å½±è®°å½•',
                'benefits': 'è·å¾—é‡ç”ŸåŠ¨ç‰©ä¿æŠ¤åŸ¹è®­è¯ä¹¦ã€å»ºç«‹ç¯ä¿ä¸“ä¸šç½‘ç»œã€å¢å¼ºç”Ÿæ€å­¦å®è·µæŠ€èƒ½ã€ç®€å†åŠ åˆ†é¡¹',
                'contact': 'volunteer@jerrabomberrawetlands.org.au',
                'link': 'https://www.jerrabomberrawetlands.org.au/volunteer',
                'deadline': 'å…¨å¹´æ»šåŠ¨æ‹›å‹Ÿï¼Œæ˜¥å­£(9-11æœˆ)æ´»åŠ¨æœ€å¤š',
                'requirements': 'å¯¹è‡ªç„¶ä¿æŠ¤æœ‰çƒ­æƒ…ï¼Œèƒ½è¿›è¡Œè½»åº¦ä½“åŠ›æ´»åŠ¨ï¼Œå®ŒæˆåŸºç¡€å®‰å…¨åŸ¹è®­'
            },
            {
                'title': 'ACTä¿æŠ¤å§”å‘˜ä¼šç¯å¢ƒæ”¿ç­–ç ”ç©¶åŠ©ç†',
                'description': 'ç›´æ¥å‚ä¸å½±å“ACTç¯å¢ƒæ”¿ç­–åˆ¶å®šçš„é‡è¦å·¥ä½œã€‚ååŠ©æ’°å†™æ”¿ç­–åˆ†ææŠ¥å‘Šã€ç»„ç»‡ç¤¾åŒºå’¨è¯¢æ´»åŠ¨ã€è¿›è¡Œç¯å¢ƒå½±å“è¯„ä¼°ç ”ç©¶ã€‚å·¥ä½œå†…å®¹åŒ…æ‹¬æ–‡çŒ®ç»¼è¿°ã€æ•°æ®åˆ†æã€åˆ©ç›Šç›¸å…³è€…è®¿è°ˆã€å…¬ä¼—å‚ä¸æ´»åŠ¨ç­–åˆ’ç­‰ã€‚',
                'organization': 'Conservation Council ACT Region',
                'location': 'å ªåŸ¹æ‹‰ACT - å¸‚ä¸­å¿ƒåŠå…¬å®¤ + çµæ´»è¿œç¨‹å·¥ä½œ',
                'type': 'å¿—æ„¿è€…',
                'commitment': 'æ¯å‘¨6-10å°æ—¶ï¼Œæ—¶é—´çµæ´»å¯åå•†',
                'skills': 'æ”¿ç­–åˆ†æã€å­¦æœ¯å†™ä½œã€å®šé‡ç ”ç©¶æ–¹æ³•ã€åˆ©ç›Šç›¸å…³è€…æ²Ÿé€š',
                'benefits': 'æ·±å…¥äº†è§£ç¯å¢ƒæ”¿ç­–åˆ¶å®šè¿‡ç¨‹ã€å»ºç«‹æ”¿åºœå’ŒNGOä¸“ä¸šè”ç³»ã€æå‡æ”¿ç­–åˆ†æå’Œå†™ä½œèƒ½åŠ›',
                'contact': 'é€šè¿‡å®˜ç½‘åœ¨çº¿ç”³è¯·ç³»ç»Ÿæäº¤ç”³è¯·',
                'link': 'https://conservationcouncil.org.au/get-involved/',
                'deadline': 'æŒç»­å¼€æ”¾ç”³è¯·ï¼Œæ¯å­¦æœŸåˆä¼˜å…ˆè€ƒè™‘',
                'requirements': 'æœ¬ç§‘åœ¨è¯»æˆ–ä»¥ä¸Šå­¦å†ï¼Œä¼˜ç§€çš„è‹±æ–‡å†™ä½œèƒ½åŠ›ï¼Œå¯¹ç¯å¢ƒæ”¿ç­–æœ‰æµ“åšå…´è¶£'
            },
            {
                'title': 'Canberra Environment Centreç¤¾åŒºå¯æŒç»­å‘å±•é¡¹ç›®',
                'description': 'å‚ä¸å¤šå…ƒåŒ–çš„ç¤¾åŒºç¯å¢ƒé¡¹ç›®ï¼ŒåŒ…æ‹¬åŸå¸‚å†œä¸šã€é›¶åºŸç‰©æ¨å¹¿ã€å¯å†ç”Ÿèƒ½æºæ•™è‚²ã€æ°”å€™é€‚åº”æ€§ç¤¾åŒºå»ºè®¾ç­‰ã€‚ç»„ç»‡å’Œå‚ä¸ç¯å¢ƒæ•™è‚²å·¥ä½œåŠã€ç»´æŠ¤ç¤¾åŒºèŠ±å›­ã€æ¨å¹¿ç¯ä¿æŠ€æœ¯å’Œç”Ÿæ´»æ–¹å¼ã€‚',
                'organization': 'Canberra Environment Centre',
                'location': 'å ªåŸ¹æ‹‰ACT - å¤šä¸ªç¤¾åŒºç«™ç‚¹',
                'type': 'å¿—æ„¿è€…',
                'commitment': 'æ¯å‘¨4-8å°æ—¶ï¼Œä¸»è¦åœ¨å‘¨æœ«ï¼Œé¡¹ç›®æœŸé—´å¯èƒ½æœ‰é¢å¤–æ—¶é—´',
                'skills': 'ç¤¾åŒºå‚ä¸ã€é¡¹ç›®åè°ƒã€ç¯å¢ƒæ•™è‚²ã€å®ç”¨ç¯ä¿æŠ€èƒ½',
                'benefits': 'å­¦ä¹ å®ç”¨å¯æŒç»­ç”Ÿæ´»æŠ€èƒ½ã€å‘å±•ç¤¾åŒºé¢†å¯¼åŠ›ã€å»ºç«‹å¹¿æ³›çš„ç¯ä¿ç½‘ç»œ',
                'contact': 'volunteers@canberraenvironment.org',
                'link': 'https://www.canberraenvironment.org/get-involved',
                'deadline': 'é¡¹ç›®å‘¨æœŸæ€§å¼€å§‹ï¼Œå»ºè®®å…³æ³¨å®˜ç½‘é€šçŸ¥',
                'requirements': 'ç§¯æä¸»åŠ¨çš„æ€åº¦ï¼Œæ„¿æ„å­¦ä¹ æ–°æŠ€èƒ½ï¼Œæœ‰ç¤¾åŒºæœåŠ¡ç²¾ç¥'
            },
            {
                'title': 'ACT Parksç”Ÿæ€æ¢å¤å®è·µé¡¹ç›®',
                'description': 'å‚ä¸ACTå›½å®¶å…¬å›­å’Œè‡ªç„¶ä¿æŠ¤åŒºçš„å®åœ°ç”Ÿæ€æ¢å¤å·¥ä½œã€‚æ´»åŠ¨åŒ…æ‹¬æœ¬åœŸæ¤ç‰©ç§æ¤ã€å¤–æ¥æ‚è‰æ¸…é™¤ã€æ­¥é“ç»´æŠ¤ã€é‡ç”ŸåŠ¨ç‰©æ –æ¯åœ°æ”¹å–„ã€åœŸå£¤ä¿æŠ¤ç­‰ã€‚ä¸ä¸“ä¸šæŠ¤æ—å‘˜å’Œç”Ÿæ€å­¦å®¶ä¸€èµ·å·¥ä½œï¼Œå­¦ä¹ å®ç”¨çš„ä¿æŠ¤æŠ€èƒ½ã€‚',
                'organization': 'ACT Parks and Conservation Service',
                'location': 'Namadgi National Park, Tidbinbillaç­‰ACTä¿æŠ¤åŒº',
                'type': 'å¿—æ„¿è€…',
                'commitment': 'æ¯æœˆ1-2ä¸ªå‘¨æœ«ï¼Œæ¯æ¬¡å…¨å¤©æ´»åŠ¨(6-8å°æ—¶)',
                'skills': 'æ¾³æ´²æœ¬åœŸæ¤ç‰©è¯†åˆ«ã€ç”Ÿæ€æ¢å¤æŠ€æœ¯ã€ä½¿ç”¨åŸºç¡€å›­è‰ºå·¥å…·ã€å›¢é˜Ÿåä½œ',
                'benefits': 'è·å¾—ä¸“ä¸šç”Ÿæ€æ¢å¤å®è·µç»éªŒã€æ·±å…¥äº†è§£æ¾³æ´²æœ¬åœŸç”Ÿæ€ç³»ç»Ÿã€é‡å¤–å·¥ä½œæŠ€èƒ½åŸ¹è®­',
                'contact': 'parkcare@act.gov.au',
                'link': 'https://www.parks.act.gov.au/get-involved/parkcare-volunteering',
                'deadline': 'æŒç»­æ‹›å‹Ÿï¼Œæ˜¥å¤å­£(10æœˆ-3æœˆ)æ´»åŠ¨è¾ƒå¤š',
                'requirements': 'èº«ä½“å¥åº·èƒ½è¿›è¡Œæˆ·å¤–ä½“åŠ›åŠ³åŠ¨ï¼Œé€šè¿‡åŸºç¡€å·¥ä½œå®‰å…¨åŸ¹è®­ï¼Œå¯¹è‡ªç„¶ä¿æŠ¤æœ‰å…´è¶£'
            }
        ]

        self.opportunities_data.extend(volunteer_opportunities)
        print(f"Volunteer opportunities: æ”¶é›† {len(volunteer_opportunities)} ä¸ªå¿—æ„¿è€…æœºä¼š")

    def collect_employment_opportunities(self):
        """æ”¶é›†å°±ä¸šå’Œå®ä¹ æœºä¼š"""

        employment_opportunities = [
            {
                'title': 'ANUç¯å¢ƒç§‘å­¦ç ”ç©¶åŠ©ç†(å¤šä¸ªèŒä½)',
                'description': 'ååŠ©Fenner Schoolæ•™æˆè¿›è¡Œå‰æ²¿ç¯å¢ƒç§‘å­¦ç ”ç©¶ã€‚å‚ä¸æ°”å€™å˜åŒ–å½±å“è¯„ä¼°ã€ç”Ÿç‰©å¤šæ ·æ€§ä¿æŠ¤ã€å¯æŒç»­å‘å±•æ”¿ç­–ç­‰ç ”ç©¶é¡¹ç›®ã€‚å·¥ä½œåŒ…æ‹¬æ•°æ®æ”¶é›†åˆ†æã€æ–‡çŒ®ç»¼è¿°ã€å®éªŒè®¾è®¡ã€ç»Ÿè®¡å»ºæ¨¡ã€å­¦æœ¯å†™ä½œç­‰ã€‚',
                'organization': 'ANU Fenner School of Environment & Society',
                'location': 'å ªåŸ¹æ‹‰ACT - ANU Actonæ ¡åŒº',
                'type': 'å…¼èŒç ”ç©¶',
                'commitment': 'æ¯å‘¨15-25å°æ—¶ï¼Œå­¦æœŸæœŸé—´æ—¶é—´çµæ´»å®‰æ’',
                'skills': 'ç»Ÿè®¡åˆ†æ(R/Python/SPSS)ã€å­¦æœ¯å†™ä½œã€æ–‡çŒ®ç ”ç©¶ã€æ•°æ®å¯è§†åŒ–ã€è‹±è¯­æµåˆ©',
                'benefits': 'ä¸°å¯Œå­¦æœ¯ç ”ç©¶ç»éªŒã€å¯¼å¸ˆæ¨èä¿¡ã€ç ”ç©¶ç”Ÿç”³è¯·å¼ºåŠ›åŠ åˆ†ã€æ—¶è–ª$28-32',
                'contact': 'å…³æ³¨Fenner Schoolå®˜ç½‘å°±ä¸šé¡µé¢ï¼Œå®šæœŸå‘å¸ƒæ‹›è˜ä¿¡æ¯',
                'link': 'https://fennerschool.anu.edu.au/study/careers',
                'deadline': 'æŒ‰é¡¹ç›®å‘¨æœŸæ‹›è˜ï¼Œé€šå¸¸æ¯å­¦æœŸåˆå’Œå¹´ä¸­',
                'requirements': 'ç¯å¢ƒ/åœ°ç†/ç”Ÿç‰©ç›¸å…³ä¸“ä¸šï¼ŒGPA 6.0+ï¼Œæœ‰ç ”ç©¶ç»éªŒæˆ–å¼ºçƒˆç ”ç©¶å…´è¶£è€…ä¼˜å…ˆ'
            },
            {
                'title': 'Graduate Environmental Consultant (å¤šå®¶å…¬å¸)',
                'description': 'åœ¨ä¸“ä¸šç¯å¢ƒå’¨è¯¢å…¬å¸ä»äº‹ç¯å¢ƒå½±å“è¯„ä¼°ã€ç”Ÿæ€è°ƒæŸ¥ã€åˆè§„ç›‘æµ‹ç­‰å·¥ä½œã€‚å‚ä¸å¤§å‹åŸºç¡€è®¾æ–½é¡¹ç›®ç¯è¯„ï¼Œè¿›è¡Œé‡å¤–ç”Ÿç‰©è°ƒæŸ¥ï¼Œä½¿ç”¨GISåˆ†æç©ºé—´æ•°æ®ï¼Œæ’°å†™æŠ€æœ¯æŠ¥å‘Šå’Œç¯å¢ƒç®¡ç†è®¡åˆ’ã€‚',
                'organization': 'å ªåŸ¹æ‹‰å¤šå®¶ç¯å¢ƒå’¨è¯¢å…¬å¸',
                'location': 'å ªåŸ¹æ‹‰ACTåŠNSWè¾¹ç•Œåœ°åŒº',
                'type': 'å…¨èŒå°±ä¸š',
                'commitment': 'å…¨èŒ38-40å°æ—¶/å‘¨ï¼Œé¡¹ç›®æœŸé—´å¯èƒ½éœ€è¦é‡å¤–å·¥ä½œ',
                'skills': 'ç¯å¢ƒç§‘å­¦èƒŒæ™¯ã€GISæŠ€èƒ½(ArcGIS/QGIS)ã€ç”Ÿæ€è°ƒæŸ¥ã€æŠ¥å‘Šå†™ä½œã€é¡¹ç›®ç®¡ç†',
                'benefits': 'å¹´è–ª$65,000-85,000ã€ä¸“ä¸šå‘å±•åŸ¹è®­ã€è¡Œä¸šè®¤è¯æ”¯æŒã€å¿«é€ŸèŒä¸šæˆé•¿',
                'contact': 'LinkedIn, Indeed, Seekç­‰ä¸“ä¸šæ±‚èŒå¹³å°',
                'link': 'https://au.indeed.com/jobs?q=environmental+consultant&l=Canberra+ACT',
                'deadline': 'æŒç»­æ‹›è˜ï¼Œåº”å±Šæ¯•ä¸šç”Ÿé¡¹ç›®é€šå¸¸åœ¨10-12æœˆå¼€å§‹',
                'requirements': 'ç¯å¢ƒç§‘å­¦/å·¥ç¨‹å­¦ä½ï¼Œè‰¯å¥½è‹±è¯­æ²Ÿé€šèƒ½åŠ›ï¼ŒæŒæœ‰é©¾ç…§ï¼Œæ„¿æ„å­¦ä¹ æ¾³æ´²ç¯å¢ƒæ³•è§„'
            },
            {
                'title': 'æ°”å€™æ•°æ®åˆ†æå¸ˆ - æ¾³æ´²æ°”è±¡å±€',
                'description': 'å‚ä¸å›½å®¶æ°”å€™ç›‘æµ‹å’Œé¢„æµ‹é¡¹ç›®ï¼Œåˆ†æé•¿æœŸæ°”å€™æ•°æ®è¶‹åŠ¿ï¼Œå¼€å‘æ°”å€™å˜åŒ–å½±å“æ¨¡å‹ï¼Œæ”¯æŒæ”¿åºœæ°”å€™æ”¿ç­–åˆ¶å®šã€‚ä½¿ç”¨Python/Rè¿›è¡Œå¤§æ•°æ®åˆ†æï¼Œåˆ¶ä½œå¯è§†åŒ–æŠ¥å‘Šï¼Œå‚ä¸å›½é™…æ°”å€™ç§‘å­¦åˆä½œé¡¹ç›®ã€‚',
                'organization': 'Australian Bureau of Meteorology',
                'location': 'å ªåŸ¹æ‹‰ACT - æ°”è±¡å±€æ€»éƒ¨',
                'type': 'å…¨èŒå°±ä¸š',
                'commitment': 'å…¨èŒèŒä½ï¼Œæ”¿åºœæ ‡å‡†å·¥ä½œæ—¶é—´',
                'skills': 'æ°”è±¡å­¦/æ°”å€™å­¦èƒŒæ™¯ã€Python/Rç¼–ç¨‹ã€ç»Ÿè®¡å»ºæ¨¡ã€å¤§æ•°æ®å¤„ç†ã€ç§‘å­¦å¯è§†åŒ–',
                'benefits': 'æ”¿åºœè–ªé…¬ä½“ç³»$70,000-95,000ã€ä¼˜ç§€ç¦åˆ©ã€ä¸“ä¸šå‘å±•æœºä¼šã€å·¥ä½œç¨³å®šæ€§',
                'contact': 'APSjobs.gov.au æ¾³æ´²æ”¿åºœæ‹›è˜ç½‘ç«™',
                'link': 'http://www.bom.gov.au/careers/',
                'deadline': 'èŒä½å‘¨æœŸæ€§å‘å¸ƒï¼Œå»ºè®®è®¢é˜…èŒä½é€šçŸ¥',
                'requirements': 'ç›¸å…³å­¦ä½ã€æ¾³æ´²å·¥ä½œæƒåˆ©ã€å®‰å…¨èƒŒæ™¯è°ƒæŸ¥ã€é‡åŒ–åˆ†æèƒ½åŠ›å¼º'
            },
            {
                'title': 'Landcareé¡¹ç›®åè°ƒå‘˜',
                'description': 'åè°ƒå’Œç®¡ç†åŒºåŸŸæ€§åœŸåœ°ä¿æŠ¤å’Œæ¢å¤é¡¹ç›®ã€‚å·¥ä½œåŒ…æ‹¬å†œæˆ·å’Œç¤¾åŒºæ²Ÿé€šã€é¡¹ç›®è§„åˆ’æ‰§è¡Œã€èµ„é‡‘ç”³è¯·ç®¡ç†ã€ç”Ÿæ€æ¢å¤æ•ˆæœç›‘æµ‹ç­‰ã€‚éœ€è¦åœ¨åŸä¹¡ä¹‹é—´å·¥ä½œï¼Œç›´æ¥ä¸å†œæ°‘å’ŒåœŸåœ°æ‰€æœ‰è€…åˆä½œæ¨è¿›å¯æŒç»­åœŸåœ°ç®¡ç†ã€‚',
                'organization': 'ACT Landcare Association',
                'location': 'å ªåŸ¹æ‹‰ACTåŠå‘¨è¾¹å†œæ‘åœ°åŒº',
                'type': 'å…¨èŒå°±ä¸š',
                'commitment': 'å…¨èŒèŒä½ï¼Œéœ€è¦çµæ´»å·¥ä½œæ—¶é—´å’Œåœ°ç‚¹',
                'skills': 'é¡¹ç›®ç®¡ç†ã€ç¤¾åŒºå‚ä¸ã€ç”Ÿæ€æ¢å¤ã€èµ„é‡‘ç®¡ç†ã€è·¨æ–‡åŒ–æ²Ÿé€š',
                'benefits': 'å¹´è–ª$60,000-75,000ã€æœ‰æ„ä¹‰çš„ç¯ä¿å·¥ä½œã€å¤šå…ƒåŒ–å·¥ä½œç¯å¢ƒ',
                'contact': 'jobs@landcareact.org.au',
                'link': 'https://landcareact.org.au/about/employment/',
                'deadline': 'èŒä½ä¸å®šæœŸå‘å¸ƒï¼Œå»ºè®®å…³æ³¨ç»„ç»‡ç½‘ç«™',
                'requirements': 'ç¯å¢ƒç›¸å…³èƒŒæ™¯ã€é¡¹ç›®ç®¡ç†ç»éªŒã€ä¼˜ç§€æ²Ÿé€šæŠ€èƒ½ã€æŒæœ‰é©¾ç…§å¿…é¡»'
            }
        ]

        self.opportunities_data.extend(employment_opportunities)
        print(f"Employment opportunities: æ”¶é›† {len(employment_opportunities)} ä¸ªå°±ä¸šæœºä¼š")

    def scrape_all_sources(self):
        """æ‰§è¡Œæ‰€æœ‰æ•°æ®æ”¶é›†ä»»åŠ¡"""
        print("ğŸ’¼ å¼€å§‹æ”¶é›†å®è·µæœºä¼š...")

        self.collect_volunteer_opportunities()
        self.collect_employment_opportunities()

        # éšæœºæ’åºä¿æŒæ–°é²œæ„Ÿ
        random.shuffle(self.opportunities_data)

        print(f"âœ… æ€»å…±æ”¶é›† {len(self.opportunities_data)} ä¸ªå®è·µæœºä¼š")
        return self.opportunities_data

    def save_to_json(self, filename="data/opportunities.json"):
        """ä¿å­˜æ•°æ®åˆ°JSONæ–‡ä»¶"""
        os.makedirs(os.path.dirname(filename), exist_ok=True)

        with open(filename, 'w', encoding='utf-8') as f:
            json.dump({
                'last_updated': datetime.datetime.now().isoformat(),
                'opportunities': self.opportunities_data
            }, f, ensure_ascii=False, indent=2)

        print(f"ğŸ“ æ•°æ®å·²ä¿å­˜åˆ° {filename}")

if __name__ == "__main__":
    scraper = OpportunitiesScraper()
    scraper.scrape_all_sources()
    scraper.save_to_json()
